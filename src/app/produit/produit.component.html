<div class="dashboard-and-content">
<div class="dashboard">
<app-home-dash></app-home-dash>
</div>
<div class="content">
<div class="container">
    <div class="d-flex justify-content-between my-3">
        <h2 *ngIf="!showForm">Liste of Products</h2>
        <h3 *ngIf="showForm">Add a new Product</h3>

        <button *ngIf="!showForm" class="btn btn-dark btn-sm" (click)="showForm = !showForm; editForm = false">
            <i class="fas fa-plus"></i> Add Product
        </button>

        <button *ngIf="showForm" class="btn btn-dark btn-sm" (click)="showForm = !showForm; editForm = false">
            <i class="fas fa-list"></i> List of products
        </button>
    </div>

    <!-- Form -->
    <div *ngIf="showForm" class="row my-5">
        <div class="col-md-12">
            <div class="card border-0 shadow-sm" style="border-radius: 10px;">
                <div class="card-body">
                    <form (ngSubmit)="insertData()">
                        <div class="form-group my-3">
                            <label for="Nom_Produit">Nom du Produit</label>
                            <input type="text" class="form-control" name="Nom_Produit" [(ngModel)]="produitt.Nom_Produit">
                        </div>
                        <div class="form-group my-3">
                            <label for="Prix_Produit">Prix du Produit</label>
                            <input type="number" class="form-control" name="Prix_Produit" [(ngModel)]="produitt.Prix_Produit">
                        </div>
                        <div class="form-group my-3">
                            <label for="Description">Description</label>
                            <input type="text" class="form-control" name="Description" [(ngModel)]="produitt.Description">
                        </div>
                        <div class="form-group my-3">
                            <label for="Quantite_stocke">Quantité en stock</label>
                            <input type="text" class="form-control" name="Quantite_stocke" [(ngModel)]="produitt.Quantite_stocke">
                        </div>
                        <div class="form-group my-3">
                            <label for="Image_Produit">Image du Produit</label>
                            <input type="text" class="form-control" name="Image_Produit" [(ngModel)]="produitt.Image_Produit">
                        </div>

                        <div class="form-group mb-3">
                            <label for="categorie_id">Catégorie d'article</label>
                            <div class="input-group mb-3">
                              <div class="form-group">
                                <input type="text" id="categorie_id" name="categorie_id"
                                    class="form-control" [(ngModel)]="produitt.categorie_id">
                              </div>
                            </div>
                           
                           
                           
                        </div>

                        <button type="submit" class="btn btn-dark btn-sm mt-4">Soumettre</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- List -->
    <div *ngIf="!showForm" class="my-5 row">
        <div class="col-md-12">
            <div class="card border-0 shadow-sm" style="border-radius: 10px;">
                <div class="card-body">
                    <table class="table table-borderless">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Nom</th>
                                <th scope="col">Prix</th>
                                <th scope="col">Description</th>
                                <th scope="col">Quantité stockée</th>
                                <th scope="col">Image</th>
                                <th scope="col">Categorie_id</th>

                                <th scope="col">Actions</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor="let prod of produits">
                                <th scope="row">{{prod.id}}</th>
                                <td>{{prod.Nom_Produit}}</td>
                                <td>{{prod.Prix_Produit}}</td>
                                <td>{{prod.Description}}</td>
                                <td>{{prod.Quantite_stocke}}</td>
                                <td>{{prod.Image_Produit}}</td>
                                <td>{{prod.categorie_id}}</td>

                                <td>
                                    <button class="btn btn-warning"><i class="fas fa-edit" (click)="openUpdateModal(prod)" ></i> <!-- Icône de mise à jour -->
                                    </button>

                                    <button class="btn btn-danger mx-2"><i class="fas fa-trash" (click)="deleteData(prod.id)"></i> <!-- Icône de suppression -->
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

